<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crypto3D â€” åŠ å¯†æ•°æ®ç«™</title>
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="./favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./favicon-16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Noto+Sans+SC:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-primary: #0a0a0b;
      --bg-secondary: #111113;
      --bg-tertiary: #18181b;
      --bg-hover: #1f1f23;
      --border: #27272a;
      --border-hover: #3f3f46;
      --text-primary: #fafafa;
      --text-secondary: #a1a1aa;
      --text-tertiary: #71717a;
      --accent: #22c55e;
      --accent-dim: rgba(34, 197, 94, 0.1);
      --accent-glow: rgba(34, 197, 94, 0.15);
      --purple: #a855f7;
      --purple-dim: rgba(168, 85, 247, 0.1);
      --blue: #3b82f6;
      --blue-dim: rgba(59, 130, 246, 0.1);
      --orange: #f59e0b;
      --orange-dim: rgba(245, 158, 11, 0.1);
      --cyan: #06b6d4;
      --cyan-dim: rgba(6, 182, 212, 0.1);
      --cyan-dim: rgba(6, 182, 212, 0.1);
      --red: #ef4444;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Noto Sans SC', 'Inter', -apple-system, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .container { max-width: 1200px; margin: 0 auto; padding: 0 24px; width: 100%; }

    /* Header */
    header {
      border-bottom: 1px solid var(--border);
      padding: 20px 0;
      position: sticky;
      top: 0;
      background: rgba(10, 10, 11, 0.9);
      backdrop-filter: blur(12px);
      z-index: 100;
    }

    .header-content { display: flex; justify-content: space-between; align-items: center; }

    .logo { display: flex; align-items: center; gap: 12px; text-decoration: none; }

    .logo-icon {
      width: 36px; height: 36px;
      background: linear-gradient(135deg, var(--accent) 0%, #16a34a 100%);
      border-radius: 10px;
      display: flex; align-items: center; justify-content: center;
      font-weight: 700; font-size: 16px; color: var(--bg-primary);
      box-shadow: 0 0 20px var(--accent-glow);
    }

    .logo-text { font-size: 20px; font-weight: 700; color: var(--text-primary); }

    .lang-switch {
      display: flex; align-items: center; gap: 8px;
      background: var(--bg-secondary); border: 1px solid var(--border);
      border-radius: 8px; padding: 6px 12px; cursor: pointer; transition: all 0.2s;
    }
    .lang-switch:hover { border-color: var(--border-hover); background: var(--bg-tertiary); }
    .lang-switch span { font-size: 14px; color: var(--text-secondary); }
    .lang-switch .active { color: var(--text-primary); font-weight: 500; }

    /* Hero Section */
    .hero { padding: 60px 0 40px; text-align: center; }

    .hero-title {
      font-size: 42px; font-weight: 700; letter-spacing: -0.03em; margin-bottom: 12px;
      background: linear-gradient(135deg, var(--text-primary) 0%, var(--text-secondary) 100%);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
    }

    .hero-subtitle { font-size: 18px; color: var(--text-secondary); margin-bottom: 24px; }

    .hero-links { display: flex; justify-content: center; gap: 16px; }

    .hero-link {
      display: flex; align-items: center; gap: 8px;
      padding: 10px 20px; border-radius: 8px;
      background: var(--bg-secondary); border: 1px solid var(--border);
      color: var(--text-secondary); text-decoration: none;
      font-size: 14px; transition: all 0.2s;
    }
    .hero-link:hover { border-color: var(--border-hover); color: var(--text-primary); background: var(--bg-tertiary); }
    .hero-link svg { width: 20px; height: 20px; }

    /* Section */
    .section { padding: 20px 0 40px; }

    .section-header {
      display: flex; align-items: center; gap: 12px;
      margin-bottom: 20px; padding-left: 16px;
      border-left: 3px solid var(--accent);
    }
    .section-header.blue { border-color: var(--blue); }
    .section-header.orange { border-color: var(--orange); }

    .section-title { font-size: 18px; font-weight: 600; color: var(--text-primary); }
    .section-title-en { font-size: 14px; color: var(--text-tertiary); margin-left: 8px; }

    /* Cards Grid */
    .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(340px, 1fr)); gap: 20px; }
    .cards-grid.single { grid-template-columns: 1fr; }

    .card {
      background: var(--bg-secondary); border: 1px solid var(--border);
      border-radius: 16px; padding: 24px; transition: all 0.3s;
      position: relative; overflow: hidden;
    }
    .card::before {
      content: ''; position: absolute; top: 0; left: 0; right: 0; height: 3px;
      background: linear-gradient(90deg, var(--accent), transparent); opacity: 0; transition: opacity 0.3s;
    }
    .card:hover { border-color: var(--border-hover); transform: translateY(-4px); box-shadow: 0 12px 40px rgba(0,0,0,0.4); }
    .card:hover::before { opacity: 1; }

    .card.blue::before { background: linear-gradient(90deg, var(--blue), transparent); }
    .card.orange::before { background: linear-gradient(90deg, var(--orange), transparent); }

    .card-clickable { cursor: pointer; text-decoration: none; color: inherit; display: block; }

    /* Card with chart layout */
    .card-body { display: flex; gap: 20px; }
    .card-main { flex: 1; min-width: 0; }
    .card-chart { width: 160px; flex-shrink: 0; display: flex; flex-direction: column; align-items: flex-end; justify-content: center; }

    .card-icon {
      width: 44px; height: 44px; border-radius: 12px;
      display: flex; align-items: center; justify-content: center;
      font-size: 22px; margin-bottom: 16px;
    }

    .card-header { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; flex-wrap: wrap; }
    .card-title { font-size: 18px; font-weight: 600; }
    .card-badge {
      font-size: 10px; font-weight: 500; padding: 2px 6px; border-radius: 4px;
      background: var(--accent-dim); color: var(--accent);
      text-transform: uppercase; letter-spacing: 0.05em;
    }

    .card-desc { font-size: 14px; color: var(--text-secondary); margin-bottom: 16px; line-height: 1.7; }

    .card-stats { display: flex; gap: 20px; margin-bottom: 16px; flex-wrap: wrap; }
    .stat { display: flex; flex-direction: column; gap: 2px; }
    .stat-value { font-size: 20px; font-weight: 600; font-family: 'JetBrains Mono', monospace; }
    .stat-label { font-size: 11px; color: var(--text-tertiary); text-transform: uppercase; letter-spacing: 0.05em; }

    .card-tags { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 16px; }
    .tag {
      font-size: 11px; padding: 3px 8px; border-radius: 4px;
      background: var(--bg-tertiary); color: var(--text-secondary); border: 1px solid var(--border);
    }

    .card-action {
      display: inline-flex; align-items: center; gap: 8px;
      font-size: 14px; font-weight: 500; color: var(--accent); transition: gap 0.2s;
    }
    .card:hover .card-action { gap: 12px; }
    .card-action.blue { color: var(--blue); }
    .card-action.orange { color: var(--orange); }
    .card-action svg { width: 16px; height: 16px; }

    /* Sparkline */
    .sparkline-container { text-align: right; }
    .sparkline { display: block; }
    .sparkline-label { font-size: 10px; color: var(--text-tertiary); margin-top: 6px; }
    .sparkline-change { font-size: 13px; font-family: 'JetBrains Mono', monospace; font-weight: 600; margin-top: 2px; }
    .sparkline-change.up { color: var(--accent); }
    .sparkline-change.down { color: var(--red); }
    .sparkline-change.neutral { color: var(--text-tertiary); }

    /* Footer */
    footer { margin-top: auto; border-top: 1px solid var(--border); padding: 24px 0; text-align: center; }
    .footer-text { font-size: 14px; color: var(--text-tertiary); }

    /* Responsive */
    @media (max-width: 768px) {
      .hero { padding: 40px 0 30px; }
      .hero-title { font-size: 28px; }
      .hero-subtitle { font-size: 16px; }
      .hero-links { flex-direction: column; align-items: center; }
      .cards-grid { grid-template-columns: 1fr; }
      .card-stats { flex-wrap: wrap; }
      .card-body { flex-direction: column; }
      .card-chart { width: 100%; align-items: flex-start; margin-top: 12px; }
      .card-chart svg { width: 100%; max-width: 240px; }
    }

    /* Glow */
    .glow {
      position: fixed; width: 600px; height: 600px; border-radius: 50%;
      background: radial-gradient(circle, var(--accent-glow) 0%, transparent 70%);
      pointer-events: none; top: -200px; left: 50%; transform: translateX(-50%); z-index: -1;
    }
  </style>
</head>
<body>
  <div class="glow"></div>

  <header>
    <div class="container">
      <div class="header-content">
        <a href="./" class="logo">
          <div class="logo-icon">3D</div>
          <span class="logo-text">Crypto3D</span>
        </a>
        <div class="lang-switch" onclick="toggleLang()">
          <span id="lang-zh" class="active">ä¸­æ–‡</span>
          <span>/</span>
          <span id="lang-en">EN</span>
        </div>
      </div>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container">
        <h1 class="hero-title" data-zh="Crypto3D åŠ å¯†æ•°æ®ç«™" data-en="Crypto3D Data Hub">Crypto3D åŠ å¯†æ•°æ®ç«™</h1>
        <p class="hero-subtitle" data-zh="ä¸ºé•¿æœŸæŠ•èµ„è€…æä¾›å‘¨æœŸåˆ¤æ–­å·¥å…·" data-en="Cycle analysis tools for long-term investors">ä¸ºé•¿æœŸæŠ•èµ„è€…æä¾›å‘¨æœŸåˆ¤æ–­å·¥å…·</p>
        <div class="hero-links">
          <a href="https://www.youtube.com/@Crypto36D" target="_blank" class="hero-link">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>
            <span>YouTube</span>
          </a>
          <a href="https://x.com/22333D" target="_blank" class="hero-link">
            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
            <span>X / Twitter</span>
          </a>
        </div>
      </div>
    </section>

    <!-- åè®®ä¼°å€¼ Protocol Valuation -->
    <section class="section">
      <div class="container">
        <div class="section-header">
          <h2 class="section-title" data-zh="åè®®ä¼°å€¼" data-en="Protocol Valuation">åè®®ä¼°å€¼</h2>
          <span class="section-title-en" data-zh="Protocol Valuation" data-en="">Protocol Valuation</span>
        </div>
        <div class="cards-grid single">
          <a href="./tev/" class="card card-clickable">
            <div class="card-icon" style="background: var(--accent-dim);">ğŸ’°</div>
            <div class="card-header">
              <h3 class="card-title">TEV Â· Token Enabled Value</h3>
              <span class="card-badge">Live</span>
            </div>
            <p class="card-desc" data-zh="åè®®æ”¶ç›Šå¦‚ä½•æµå‘ä»£å¸æŒæœ‰è€…ï¼Ÿè¿½è¸ªå›è´­ã€é”€æ¯ã€åˆ†çº¢ç­‰ä»·å€¼åˆ†é…æœºåˆ¶ï¼Œå‘ç°çœŸæ­£åˆ›é€ ä»·å€¼çš„åè®®ã€‚" data-en="How does protocol revenue flow to token holders? Track buybacks, burns, dividends to find protocols that truly create value.">åè®®æ”¶ç›Šå¦‚ä½•æµå‘ä»£å¸æŒæœ‰è€…ï¼Ÿè¿½è¸ªå›è´­ã€é”€æ¯ã€åˆ†çº¢ç­‰ä»·å€¼åˆ†é…æœºåˆ¶ï¼Œå‘ç°çœŸæ­£åˆ›é€ ä»·å€¼çš„åè®®ã€‚</p>
            <div class="card-stats">
              <div class="stat">
                <span class="stat-value">25+</span>
                <span class="stat-label" data-zh="åè®®æ•°é‡" data-en="Protocols">åè®®æ•°é‡</span>
              </div>
              <div class="stat">
                <span class="stat-value">8</span>
                <span class="stat-label" data-zh="ç±»åˆ«" data-en="Categories">ç±»åˆ«</span>
              </div>
            </div>
            <div class="card-tags">
              <span class="tag">DeFi</span>
              <span class="tag">Perps</span>
              <span class="tag">Lending</span>
              <span class="tag">Staking</span>
            </div>
            <div class="card-action">
              <span data-zh="æŸ¥çœ‹è¯¦æƒ…" data-en="Explore">æŸ¥çœ‹è¯¦æƒ…</span>
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6" />
              </svg>
            </div>
          </a>
        </div>
      </div>
    </section>

    <!-- BTC å‘¨æœŸ BTC Cycle -->
    <section class="section">
      <div class="container">
        <div class="section-header blue">
          <h2 class="section-title" data-zh="BTC å‘¨æœŸ" data-en="BTC Cycle">BTC å‘¨æœŸ</h2>
          <span class="section-title-en" data-zh="BTC Cycle" data-en="">BTC Cycle</span>
        </div>
        <div class="cards-grid">
          <a href="./ahr999/" class="card card-clickable blue">
            <div class="card-body">
              <div class="card-main">
                <div class="card-icon" style="background: var(--blue-dim);">ğŸ“ˆ</div>
                <div class="card-header">
                  <h3 class="card-title">AHR999</h3>
                  <span class="card-badge">Live</span>
                </div>
                <p class="card-desc" data-zh="æ¯”ç‰¹å¸å®šæŠ•å‚è€ƒæŒ‡æ ‡ï¼Œç»¼åˆæˆæœ¬ä¸æ‹Ÿåˆä»·æ ¼åˆ¤æ–­æ—¶æœºã€‚" data-en="Bitcoin DCA indicator combining cost and fitted price.">æ¯”ç‰¹å¸å®šæŠ•å‚è€ƒæŒ‡æ ‡ï¼Œç»¼åˆæˆæœ¬ä¸æ‹Ÿåˆä»·æ ¼åˆ¤æ–­æ—¶æœºã€‚</p>
                <div class="card-stats">
                  <div class="stat">
                    <span class="stat-value" id="ahr999-value">â€”</span>
                    <span class="stat-label" data-zh="å½“å‰å€¼" data-en="Current">å½“å‰å€¼</span>
                  </div>
                  <div class="stat">
                    <span class="stat-value" id="ahr999-zone">â€”</span>
                    <span class="stat-label" data-zh="çŠ¶æ€" data-en="Status">çŠ¶æ€</span>
                  </div>
                </div>
                <div class="card-action blue">
                  <span data-zh="æŸ¥çœ‹è¯¦æƒ…" data-en="Explore">æŸ¥çœ‹è¯¦æƒ…</span>
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                  </svg>
                </div>
              </div>
              <div class="card-chart">
                <div class="sparkline-container">
                  <svg id="ahr999-spark" class="sparkline" width="160" height="60" viewBox="0 0 160 60"></svg>
                  <div class="sparkline-change" id="ahr999-change">â€”</div>
                  <div class="sparkline-label" data-zh="7æ—¥è¶‹åŠ¿" data-en="7d trend">7æ—¥è¶‹åŠ¿</div>
                </div>
              </div>
            </div>
          </a>

          <a href="./mvrv/" class="card card-clickable blue">
            <div class="card-body">
              <div class="card-main">
                <div class="card-icon" style="background: var(--purple-dim);">ğŸ“Š</div>
                <div class="card-header">
                  <h3 class="card-title">MVRV</h3>
                  <span class="card-badge">Live</span>
                </div>
                <p class="card-desc" data-zh="å¸‚å€¼ä¸å®ç°ä»·å€¼æ¯”ç‡ï¼Œåˆ¤æ–­æ¯”ç‰¹å¸å‘¨æœŸé¡¶åº•ä½ç½®ã€‚" data-en="Market Value to Realized Value for cycle analysis.">å¸‚å€¼ä¸å®ç°ä»·å€¼æ¯”ç‡ï¼Œåˆ¤æ–­æ¯”ç‰¹å¸å‘¨æœŸé¡¶åº•ä½ç½®ã€‚</p>
                <div class="card-stats">
                  <div class="stat">
                    <span class="stat-value" id="mvrv-value">â€”</span>
                    <span class="stat-label" data-zh="å½“å‰å€¼" data-en="Current">å½“å‰å€¼</span>
                  </div>
                  <div class="stat">
                    <span class="stat-value" id="mvrv-zone">â€”</span>
                    <span class="stat-label" data-zh="çŠ¶æ€" data-en="Status">çŠ¶æ€</span>
                  </div>
                </div>
                <div class="card-action blue">
                  <span data-zh="æŸ¥çœ‹è¯¦æƒ…" data-en="Explore">æŸ¥çœ‹è¯¦æƒ…</span>
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                  </svg>
                </div>
              </div>
              <div class="card-chart">
                <div class="sparkline-container">
                  <svg id="mvrv-spark" class="sparkline" width="160" height="60" viewBox="0 0 160 60"></svg>
                  <div class="sparkline-change" id="mvrv-change">â€”</div>
                  <div class="sparkline-label" data-zh="7æ—¥è¶‹åŠ¿" data-en="7d trend">7æ—¥è¶‹åŠ¿</div>
                </div>
              </div>
            </div>
          </a>

          <a href="./btc-dominance/" class="card card-clickable blue">
            <div class="card-body">
              <div class="card-main">
                <div class="card-icon" style="background: var(--cyan-dim);">ğŸ¥‡</div>
                <div class="card-header">
                  <h3 class="card-title">BTC.D</h3>
                  <span class="card-badge">Live</span>
                </div>
                <p class="card-desc" data-zh="æ¯”ç‰¹å¸å¸‚å€¼å æ¯”ï¼Œåˆ¤æ–­å¸‚åœºèµ„é‡‘åœ¨ BTC å’Œå±±å¯¨å¸ä¹‹é—´çš„æµå‘ã€‚" data-en="Bitcoin dominance, tracking capital flow between BTC and altcoins.">æ¯”ç‰¹å¸å¸‚å€¼å æ¯”ï¼Œåˆ¤æ–­å¸‚åœºèµ„é‡‘åœ¨ BTC å’Œå±±å¯¨å¸ä¹‹é—´çš„æµå‘ã€‚</p>
                <div class="card-stats">
                  <div class="stat">
                    <span class="stat-value" id="btcd-value">â€”</span>
                    <span class="stat-label" data-zh="å½“å‰å æ¯”" data-en="Current">å½“å‰å æ¯”</span>
                  </div>
                  <div class="stat">
                    <span class="stat-value" id="btcd-zone">â€”</span>
                    <span class="stat-label" data-zh="çŠ¶æ€" data-en="Status">çŠ¶æ€</span>
                  </div>
                </div>
                <div class="card-action blue">
                  <span data-zh="æŸ¥çœ‹è¯¦æƒ…" data-en="Explore">æŸ¥çœ‹è¯¦æƒ…</span>
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                  </svg>
                </div>
              </div>
              <div class="card-chart">
                <div class="sparkline-container">
                  <svg id="btcd-spark" class="sparkline" width="160" height="60" viewBox="0 0 160 60"></svg>
                  <div class="sparkline-change" id="btcd-change">â€”</div>
                  <div class="sparkline-label" data-zh="7æ—¥è¶‹åŠ¿" data-en="7d trend">7æ—¥è¶‹åŠ¿</div>
                </div>
              </div>
            </div>
          </a>
        </div>
        <div class="section-update-time" id="btc-cycle-update" data-zh="æ•°æ®æ›´æ–°: â€”" data-en="Data updated: â€”" style="font-size: 12px; color: var(--text-tertiary); text-align: right; margin-top: 12px; font-family: 'JetBrains Mono', monospace;">æ•°æ®æ›´æ–°: â€”</div>
      </div>
    </section>

    <!-- å®è§‚é£é™© Macro Risk -->
    <section class="section">
      <div class="container">
        <div class="section-header orange">
          <h2 class="section-title" data-zh="å®è§‚é£é™©" data-en="Macro Risk">å®è§‚é£é™©</h2>
          <span class="section-title-en" data-zh="Macro Risk" data-en="">Macro Risk</span>
        </div>
        <div class="cards-grid single">
          <a href="./bmri/" class="card card-clickable orange">
            <div class="card-body">
              <div class="card-main">
                <div class="card-icon" style="background: var(--orange-dim);">ğŸŒ¡ï¸</div>
                <div class="card-header">
                  <h3 class="card-title">BMRI Â· Bitcoin Macro Risk Index</h3>
                  <span class="card-badge">Live</span>
                </div>
                <p class="card-desc" data-zh="ç»¼åˆç¾å€ºåˆ©ç‡ã€æµåŠ¨æ€§ã€é£é™©åå¥½çš„å®è§‚ç¯å¢ƒæŒ‡æ ‡ï¼Œåˆ¤æ–­å¸‚åœºç³»ç»Ÿæ€§é£é™©æ°´å¹³ã€‚" data-en="Macro indicator combining treasury rates, liquidity, and risk appetite for systemic risk assessment.">ç»¼åˆç¾å€ºåˆ©ç‡ã€æµåŠ¨æ€§ã€é£é™©åå¥½çš„å®è§‚ç¯å¢ƒæŒ‡æ ‡ï¼Œåˆ¤æ–­å¸‚åœºç³»ç»Ÿæ€§é£é™©æ°´å¹³ã€‚</p>
                <div class="card-stats">
                  <div class="stat">
                    <span class="stat-value" id="bmri-value">â€”</span>
                    <span class="stat-label" data-zh="å½“å‰å€¼ (6M)" data-en="Current (6M)">å½“å‰å€¼ (6M)</span>
                  </div>
                  <div class="stat">
                    <span class="stat-value" id="bmri-zone">â€”</span>
                    <span class="stat-label" data-zh="é£é™©ç­‰çº§" data-en="Risk Level">é£é™©ç­‰çº§</span>
                  </div>
                </div>
                <div class="card-action orange">
                  <span data-zh="æŸ¥çœ‹è¯¦æƒ…" data-en="Explore">æŸ¥çœ‹è¯¦æƒ…</span>
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6" />
                  </svg>
                </div>
              </div>
              <div class="card-chart">
                <div class="sparkline-container">
                  <svg id="bmri-spark" class="sparkline" width="160" height="60" viewBox="0 0 160 60"></svg>
                  <div class="sparkline-change" id="bmri-change">â€”</div>
                  <div class="sparkline-label" data-zh="7æ—¥è¶‹åŠ¿" data-en="7d trend">7æ—¥è¶‹åŠ¿</div>
                </div>
              </div>
            </div>
          </a>
        </div>
        <div class="section-update-time" id="macro-risk-update" data-zh="æ•°æ®æ›´æ–°: â€”" data-en="Data updated: â€”" style="font-size: 12px; color: var(--text-tertiary); text-align: right; margin-top: 12px; font-family: 'JetBrains Mono', monospace;">æ•°æ®æ›´æ–°: â€”</div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p class="footer-text">Â© 2026 Crypto3D</p>
    </div>
  </footer>

  <script>
    let currentLang = 'zh';

    function toggleLang() {
      currentLang = currentLang === 'zh' ? 'en' : 'zh';
      updateLang();
    }

    function updateLang() {
      document.getElementById('lang-zh').className = currentLang === 'zh' ? 'active' : '';
      document.getElementById('lang-en').className = currentLang === 'en' ? 'active' : '';
      document.documentElement.lang = currentLang === 'zh' ? 'zh-CN' : 'en';
      document.title = currentLang === 'zh' ? 'Crypto3D â€” åŠ å¯†æ•°æ®ç«™' : 'Crypto3D â€” Data Hub';
      document.querySelectorAll('[data-zh]').forEach(el => {
        el.textContent = el.getAttribute(`data-${currentLang}`);
      });
      document.querySelectorAll('.section-title-en').forEach(el => {
        el.style.display = currentLang === 'en' ? 'none' : 'inline';
      });
      localStorage.setItem('lang', currentLang);
      // Re-render zones with new language
      loadIndicators();
    }

    function getAhr999Zone(value, lang) {
      if (value < 0.45) return lang === 'zh' ? 'ğŸŸ¢ æŠ„åº•' : 'ğŸŸ¢ Buy';
      if (value < 1.2) return lang === 'zh' ? 'ğŸŸ¡ å®šæŠ•' : 'ğŸŸ¡ DCA';
      return lang === 'zh' ? 'ğŸ”´ è§‚æœ›' : 'ğŸ”´ Wait';
    }

    function getMvrvZone(value, lang) {
      if (value < 1.0) return lang === 'zh' ? 'ğŸŸ¢ ä½ä¼°' : 'ğŸŸ¢ Under';
      if (value < 3.0) return lang === 'zh' ? 'ğŸŸ¡ åˆç†' : 'ğŸŸ¡ Fair';
      return lang === 'zh' ? 'ğŸ”´ é«˜ä¼°' : 'ğŸ”´ Over';
    }

    function getBmriZone(value, lang) {
      if (value <= 30) return lang === 'zh' ? 'ğŸŸ¢ ä½é£é™©' : 'ğŸŸ¢ Low';
      if (value <= 70) return lang === 'zh' ? 'ğŸŸ¡ ä¸­æ€§' : 'ğŸŸ¡ Neutral';
      return lang === 'zh' ? 'ğŸ”´ é«˜é£é™©' : 'ğŸ”´ High';
    }

    function getBtcdZone(value, lang) {
      if (value >= 60) return lang === 'zh' ? 'ğŸŸ  BTCä¸»å¯¼' : 'ğŸŸ  BTC';
      if (value >= 40) return lang === 'zh' ? 'ğŸ”µ å‡è¡¡' : 'ğŸ”µ Balanced';
      return lang === 'zh' ? 'ğŸŸ£ å±±å¯¨å­£' : 'ğŸŸ£ Alt';
    }

    // Draw sparkline SVG
    function drawSparkline(svgId, data, color) {
      const svg = document.getElementById(svgId);
      if (!svg || !data || data.length < 2) return;

      const width = 160;
      const height = 60;
      const padding = 8;

      const values = data.map(d => d.value);
      const min = Math.min(...values);
      const max = Math.max(...values);
      const range = max - min || 1;

      const points = data.map((d, i) => {
        const x = padding + (i / (data.length - 1)) * (width - padding * 2);
        const y = height - padding - ((d.value - min) / range) * (height - padding * 2);
        return `${x},${y}`;
      });

      const gradientId = `${svgId}-gradient`;
      const glowId = `${svgId}-glow`;
      const maskId = `${svgId}-mask`;
      const lineGradientId = `${svgId}-line-gradient`;
      const lastY = parseFloat(points[points.length - 1].split(',')[1]);
      const lastX = width - padding;
      
      // Lighter color for glow
      const glowColor = color;
      
      svg.innerHTML = `
        <defs>
          <!-- Edge fade mask -->
          <linearGradient id="${maskId}" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color:white;stop-opacity:0" />
            <stop offset="15%" style="stop-color:white;stop-opacity:1" />
            <stop offset="85%" style="stop-color:white;stop-opacity:1" />
            <stop offset="100%" style="stop-color:white;stop-opacity:0.6" />
          </linearGradient>
          <mask id="${maskId}-mask">
            <rect x="0" y="0" width="${width}" height="${height}" fill="url(#${maskId})"/>
          </mask>
          
          <!-- Fill gradient -->
          <linearGradient id="${gradientId}" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:${color};stop-opacity:0.2" />
            <stop offset="100%" style="stop-color:${color};stop-opacity:0" />
          </linearGradient>
          
          <!-- Line gradient -->
          <linearGradient id="${lineGradientId}" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color:${color};stop-opacity:0.3" />
            <stop offset="30%" style="stop-color:${color};stop-opacity:1" />
            <stop offset="100%" style="stop-color:${color};stop-opacity:1" />
          </linearGradient>
        </defs>
        
        <!-- Area fill with mask -->
        <g mask="url(#${maskId}-mask)">
          <polygon 
            points="${padding},${height - padding} ${points.join(' ')} ${lastX},${height - padding}" 
            fill="url(#${gradientId})" 
          />
        </g>
        
        <!-- Line -->
        <g mask="url(#${maskId}-mask)">
          <polyline 
            points="${points.join(' ')}" 
            fill="none" 
            stroke="url(#${lineGradientId})" 
            stroke-width="2" 
            stroke-linecap="round" 
            stroke-linejoin="round"
          />
        </g>
        
        <!-- End point - simple dot -->
        <circle cx="${lastX}" cy="${lastY}" r="3" fill="${color}"/>
      `;
    }

    // Calculate and display change
    function showChange(elementId, data) {
      const el = document.getElementById(elementId);
      if (!el || !data || data.length < 2) return;
      
      const first = data[0].value;
      const last = data[data.length - 1].value;
      const change = ((last - first) / first) * 100;
      
      const sign = change >= 0 ? '+' : '';
      el.textContent = `${sign}${change.toFixed(1)}%`;
      el.className = 'sparkline-change ' + (change > 0.1 ? 'up' : change < -0.1 ? 'down' : 'neutral');
    }

    async function loadIndicators() {
      let btcCycleUpdate = null;
      let macroRiskUpdate = null;

      try {
        const ahr999Res = await fetch('/indicators/data/ahr999.json');
        const ahr999Data = await ahr999Res.json();
        const ahr999Val = ahr999Data.current.value;
        document.getElementById('ahr999-value').textContent = ahr999Val.toFixed(2);
        document.getElementById('ahr999-zone').textContent = getAhr999Zone(ahr999Val, currentLang);
        
        // Get last 7 days for sparkline
        const ahr999History = ahr999Data.history.slice(-7).map(d => ({ value: d.ahr999 }));
        drawSparkline('ahr999-spark', ahr999History, '#3b82f6');
        showChange('ahr999-change', ahr999History);
        if (ahr999Data.updated_at) btcCycleUpdate = ahr999Data.updated_at;
      } catch (e) { console.log('AHR999 data not available'); }

      try {
        const mvrvRes = await fetch('/indicators/data/mvrv.json');
        const mvrvData = await mvrvRes.json();
        const mvrvVal = mvrvData.current.value;
        document.getElementById('mvrv-value').textContent = mvrvVal.toFixed(2);
        document.getElementById('mvrv-zone').textContent = getMvrvZone(mvrvVal, currentLang);
        
        const mvrvHistory = mvrvData.history.slice(-7).map(d => ({ value: d.value }));
        drawSparkline('mvrv-spark', mvrvHistory, '#a855f7');
        showChange('mvrv-change', mvrvHistory);
        if (mvrvData.updated_at && (!btcCycleUpdate || mvrvData.updated_at > btcCycleUpdate)) btcCycleUpdate = mvrvData.updated_at;
      } catch (e) { console.log('MVRV data not available'); }

      try {
        const bmriRes = await fetch('/indicators/data/bmri.json');
        const bmriData = await bmriRes.json();
        const bmriVal = bmriData['6m'].current.value;
        document.getElementById('bmri-value').textContent = bmriVal.toFixed(0);
        document.getElementById('bmri-zone').textContent = getBmriZone(bmriVal, currentLang);
        
        const bmriHistory = bmriData['6m'].history.slice(-7).map(d => ({ value: d.bmri }));
        drawSparkline('bmri-spark', bmriHistory, '#f59e0b');
        showChange('bmri-change', bmriHistory);
        if (bmriData.updated_at) macroRiskUpdate = bmriData.updated_at;
      } catch (e) { console.log('BMRI data not available'); }

      try {
        const btcdRes = await fetch('/indicators/data/btc-dominance.json');
        const btcdData = await btcdRes.json();
        const btcdVal = btcdData.current.value;
        document.getElementById('btcd-value').textContent = btcdVal.toFixed(1) + '%';
        document.getElementById('btcd-zone').textContent = getBtcdZone(btcdVal, currentLang);
        
        const btcdHistory = btcdData.history.slice(-7).map(d => ({ value: d.value }));
        drawSparkline('btcd-spark', btcdHistory, '#06b6d4');
        showChange('btcd-change', btcdHistory);
        if (btcdData.updated_at && (!btcCycleUpdate || btcdData.updated_at > btcCycleUpdate)) btcCycleUpdate = btcdData.updated_at;
      } catch (e) { console.log('BTC.D data not available'); }

      // Set update times
      const prefix = currentLang === 'zh' ? 'æ•°æ®æ›´æ–°: ' : 'Data updated: ';
      if (btcCycleUpdate) {
        document.getElementById('btc-cycle-update').textContent = prefix + btcCycleUpdate;
      }
      if (macroRiskUpdate) {
        document.getElementById('macro-risk-update').textContent = prefix + macroRiskUpdate;
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      const saved = localStorage.getItem('lang');
      if (saved) { currentLang = saved; updateLang(); }
      loadIndicators();
    });
  </script>
</body>
</html>
